(this["webpackJsonpokta-test"]=this["webpackJsonpokta-test"]||[]).push([[0],{34:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(21),i=n.n(o),a=(n(34),n(22)),s=n(23),u=n(29),j=n(28),h=n(1),b=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={hasError:!1},r}return Object(s.a)(n,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0}),console.error(t,e)}},{key:"render",value:function(){return this.state.hasError?Object(h.jsx)("h1",{children:"Something went wrong."}):this.props.children}}]),n}(c.a.Component),d=n(8),l=n(4),p=n.n(l),O=n(13),f=n(2),g=n(9),x=n(11),v=function(){var t=Object(f.g)(),e=Object(g.d)(),n=e.oktaAuth,r=e.authState;if(r.isPending)return Object(h.jsx)("div",{children:"authState.isPending"});var c=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.push("/login"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var t=Object(O.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.signOut());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=r.isAuthenticated?Object(h.jsx)("button",{onClick:o,children:"Logout"}):Object(h.jsx)("button",{onClick:c,children:"Login"});return Object(h.jsxs)("div",{children:[Object(h.jsx)(d.b,{to:"/",children:"Home"}),Object(h.jsx)("br",{}),Object(h.jsx)(d.b,{to:"/protected",children:"Protected"}),Object(h.jsx)("br",{}),i]})},m=n(27),k=n.n(m),w=(n(52),function(t){var e=t.config,n=t.onSuccess,c=t.onError,o=Object(r.useRef)();return Object(r.useEffect)((function(){if(!o.current)return!1;var t=new k.a(e);return t.showSignInToGetTokens({el:o.current}).then(n).catch(c),function(){return t.remove()}}),[e,n,c]),Object(h.jsx)("div",{ref:o})}),A=function(t){var e=t.config,n=Object(g.d)(),r=n.oktaAuth,c=n.authState;return c.isPending?null:c.isAuthenticated?Object(h.jsx)(f.a,{to:{pathname:"/"}}):Object(h.jsx)(w,{config:e,onSuccess:function(t){r.handleLoginRedirect(t)},onError:function(t){console.log("error logging in",t)}})},y=function(){return Object(h.jsx)("h3",{children:"Protected"})},S={issuer:"https://dev-46947239.okta.com/oauth2/default",clientId:"0oag6szs6zMWTYitD5d6",redirectUri:window.location.origin+"/login/callback"},E={baseUrl:"https://dev-46947239.okta.com",clientId:"0oag6szs6zMWTYitD5d6",redirectUri:window.location.origin+"/login/callback",authParams:{}},P=new x.OktaAuth(S),R=function(){var t=Object(f.g)(),e=Object(f.h)(),n=function(){var n=Object(O.a)(p.a.mark((function n(r,c){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.replace(Object(x.toRelativeUrl)(c,e.origin));case 1:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:"AppWithRouterAccess component"}),Object(h.jsxs)(g.c,{oktaAuth:P,onAuthRequired:function(){t.push("/login")},restoreOriginalUri:n,children:[Object(h.jsx)("div",{children:"AppWithRouterAccess in Security"}),Object(h.jsxs)(f.d,{children:[Object(h.jsx)(f.b,{exact:!0,path:"/",component:v}),Object(h.jsx)(g.b,{path:"/protected",component:y}),Object(h.jsx)(f.b,{path:"/login",render:function(){return Object(h.jsx)(A,{config:E})}}),Object(h.jsx)(f.b,{path:"/login/callback",component:g.a})]})]})]})},U=(n(53),function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{children:"App comp"}),Object(h.jsxs)(d.a,{basename:"https://vsavaryn.github.io/react-okta-test",children:[Object(h.jsx)("div",{children:"App comp in router"}),Object(h.jsx)(R,{})]})]})});i.a.render(Object(h.jsxs)(b,{children:[Object(h.jsx)("div",{children:"ErrorBoundary comp"}),Object(h.jsx)(U,{})]}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.c25af891.chunk.js.map